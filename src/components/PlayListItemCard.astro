---
import type { Playlist } from "@/lib/data";
import CardPlayButton from "@/components/CardPlayButton";

interface Props {
  playlist: Playlist;
}

const {playlist} = Astro.props
const {id, cover, title, artists, color} = playlist

const artistString = artists.join(", ")
---


<article class="group w-full h-60 relative hover:bg-zinc-500 shadow-lg hover:shadow-xl bg-zinc-500/30 rounded-md transition-all duration-300">

  <div class="absolute right-[1.2rem] bottom-[6.2rem] translate-y-4 transition-all duration-500 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 z-10">
    <CardPlayButton id={id} client:visible/>
  </div>

  <a href=`/playlist/${id}` class="playlist-item transition-all duration-300 flex relative p-3 overflow-hidden h-full gap-2 rounded-md flex-col " transition:name=`playlist ${id} box`>
    <picture class="aspect-square w-full h-auto flex-none shadow-xl">
      <img 
      src={cover}
      alt={`Cover of ${title} by ${artistString}`}
      class="objet-cover w-full h-full rounded-md"
      transition:name=`playlist ${id} image`/>
    </picture>

    <div class="flex flex-auto flex-col">
      <h4 transition:name=`playlist ${playlist?.id} title` class="text-white text-sm">
        {title}
      </h4>

      <span transition:name=`playlist ${playlist?.id} artists` class="text-xs text-gray-400">
        {artistString}
      </span>
    </div>
  </a>
</article>